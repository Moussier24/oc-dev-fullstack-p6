<div class="themes-container">
  <div class="content" *ngIf="!loading; else loadingTpl">
    <ng-container *ngIf="themes.length; else noThemes">
      <div class="themes-grid">
        <mat-card *ngFor="let theme of themes" class="theme-card">
          <mat-card-header>
            <mat-card-title>{{ theme.name }}</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <p class="description">{{ theme.description }}</p>
            <div class="stats">
              <span class="stat">
                <mat-icon>group</mat-icon>
                {{ theme.subscribers_count }} abonnés
              </span>
              <span class="stat">
                <mat-icon>article</mat-icon>
                {{ theme.articles_count }} articles
              </span>
            </div>
          </mat-card-content>
          <mat-card-actions>
            <button
              mat-raised-button
              color="primary"
              (click)="subscribe(theme)"
              [disabled]="theme.is_subscribed"
            >
              {{ theme.is_subscribed ? "Abonné" : "S'abonner" }}
            </button>
          </mat-card-actions>
        </mat-card>
      </div>
    </ng-container>
  </div>
</div>

<ng-template #loadingTpl>
  <div class="loading-container">
    <mat-spinner></mat-spinner>
  </div>
</ng-template>

<ng-template #noThemes>
  <div class="no-themes">
    <mat-icon>category</mat-icon>
    <p>Aucun thème disponible</p>
  </div>
</ng-template>
